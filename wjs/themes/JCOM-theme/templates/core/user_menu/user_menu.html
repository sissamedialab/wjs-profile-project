{% load roles wjs_review %}
{% user_has_role request 'section-editor' as user_is_editor %}
{% user_has_role request 'author' as user_is_author %}
{% user_has_role request 'reviewer' as user_is_reviewer %}
{% user_has_role request 'director' as user_is_director %}
{% user_has_role request 'director' as user_is_eo %}
<ul id="dropdown1" class="dropdown-content">
    {% if not journal_settings.general.disable_journal_submission %}
        <li>
            <a class="dropdown-item" href="{% url 'submission_start' %}">{% trans "Submit" %}</a>
        </li>
    {% endif %}
    {% if user_is_editor or request.user.is_staff %}
        <li>
            <a class="dropdown-item" href="{% url 'core_manager_index' %}">{% trans "Manager" %}</a>
        </li>
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'article_view' and article %}
            <li>
                <a class="dropdown-item"
                   href="{% url 'manage_archive_article' article.pk %}">{% trans "Edit Article" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'journal_issue' and issue %}
            <li>
                <a class="dropdown-item" href="{% url 'manage_issues_id' issue.pk %}">{% trans "Edit Issue" %}</a>
            </li>
        {% endif %}
    {% endif %}
    {% if request.user.is_staff %}
        <li>
            <a class="dropdown-item" href="{% url "admin:index" %}">{% trans "Admin" %}</a>
        </li>
    {% endif %}
    <li>
        <a class="dropdown-item" href="{% url 'core_edit_profile' %}">{% trans "Profile" %}</a>
    </li>
    <li>
        <a class="dropdown-item" href="{% url 'core_logout' %}">{% trans "Logout" %}</a>
    </li>
</ul>
<ul id="account" class="dropdown-content">
    {% if not journal_settings.general.disable_journal_submission %}
        <li>
            <a class="dropdown-item" href="{% url 'submission_start' %}">{% trans "Submit" %}</a>
        </li>
    {% endif %}
    {% if user_is_author %}
        <li>
            <a class="dropdown-item" href="{% url 'wjs_review_author_pending' %}">{% trans "My Author Pages" %}</a>
        </li>
    {% endif %}
    {% if user_is_reviewer %}
        <li>
            <a class="dropdown-item" href="{% url 'wjs_review_reviewer_pending' %}">{% trans "My reviewer Pages" %}</a>
        </li>
    {% endif %}
    {% if user_is_editor %}
        <li>
            <a class="dropdown-item" href="{% url 'wjs_review_list' %}">{% trans "My Editor Pages" %}</a>
        </li>
    {% endif %}
    {% if user_is_director %}
        <li>
            <a class="dropdown-item" href="{% url 'wjs_review_eo_pending' %}">{% trans "My Director Pages" %}</a>
        </li>
    {% endif %}
    {% if request.user|is_user_eo %}
        <li>
            <a class="dropdown-item" href="{% url 'wjs_review_eo_pending' %}">{% trans "My EO Pages" %}</a>
        </li>
    {% endif %}
    {% if request.user.is_staff or request.user|is_user_eo %}
        <li>
            <a class="dropdown-item" href="{% url 'core_manager_index' %}">{% trans "Manager" %}</a>
        </li>
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'journal_submissions' %}
            <li>
                <a href="{% url 'core_edit_settings_group' 'submission' %}">{% trans "Edit Submissions Page" %}</a>
            </li>
            <li>
                <a href="{% url 'core_edit_settings_group' 'journal' %}">{% trans "Edit Journal Info" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'cms_page' and page %}
            <li>
                <a href="{% url 'cms_page_edit' page.pk %}">{% trans "Edit Page" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'editorial_team' %}
            <li>
                <a href="{% url 'core_editorial_team' %}">{% trans "Manage Editorial Team" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'article_view' and article %}
            <li>
                <a class="dropdown-item"
                   href="{% url 'manage_archive_article' article.pk %}">{% trans "Edit Article" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'journal_issue' and issue %}
            <li>
                <a class="dropdown-item" href="{% url 'manage_issues_id' issue.pk %}">{% trans "Edit Issue" %}</a>
            </li>
        {% endif %}
        {% if request.resolver_match.url_name and request.resolver_match.url_name == 'core_news_item' and news_item %}
            <li>
                <a class="dropdown-item"
                   href="{% url 'core_manager_edit_news' news_item.pk %}">{% trans "Edit News Item" %}</a>
            </li>
        {% endif %}
    {% endif %}
    {% if request.user.is_staff %}
        <li>
            <a class="dropdown-item" href="{% url "admin:index" %}">{% trans "Admin" %}</a>
        </li>
    {% endif %}
    <li>
        <a class="dropdown-item" href="{% url 'core_edit_profile' %}">{% trans "Profile" %}</a>
    </li>
    <li>
        <a class="dropdown-item" href="{% url 'core_logout' %}">{% trans "Logout" %}</a>
    </li>
</ul>
